<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<link th:rel="stylesheet" type="text/css" th:href="@{/css/nicoleestilos.css}" />
	<link th:rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/4.5.0/css/bootstrap.min.css}">
	<link th:rel="stylesheet" th:href="@{/webjars/font-awesome/5.11.2/css/all.css}" />
	<link th:rel="stylesheet" type="text/css" th:href="@{/css/nicoleestilos.css}" />
	<meta charset="UTF-8">

	<title>Perfiles</title>

</head>

<body class="body-home">
<div th:insert="layouts/header :: header"></div>
	<div class="container">
		
		<h1>Turistas</h1>

	
		<h3>Lista de Turistas Cargados</h3><br>
		<div class="table-responsive">
			<table class="table">
				<thead>
					<tr>
						<th>IdTurista</th>
						<th>Nombre</th>
						<th>Apellido</th>
						<th>Email</th>
						<th></th>

					</tr>
				</thead>

				<tr th:each="t : ${turistas}">
					<td th:text="${t.idTurista}"></td>
					<td th:text="${t.nombre}"></td>
					<td th:text="${t.apellido}"></td>
					<td th:text="${t.email}"></td>
					<td>
		 				<a class="btn btn-info" href="#" th:href="@{'/turista/editar/'+${t.idTurista}}">Editar</a>
						<a class="btn btn-info" th:onclick="'javascript:confirmarEliminar(\''+${t.idTurista}+'\');'">Eliminar</a>
						</td>
					</tr>
				</table>

			</div>
			
					<!--Modal Eliminar-->
					<div class="modal fade" id="modalEliminar" tabindex="-1" role="dialog" aria-labelledby="eliminarModal"
						aria-hidden="true">
						<div class="modal-dialog modal-dialog-centered" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="eliminarModalTitulo">Confirmar Eliminar</h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<h6>Â¿Esta seguro que desea darse de baja de la app?</h6>
								</div>
								<input type="hidden" id="identificadorUsuarioHiddenInput" name="userIdHiddenInput" />
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
									<button type="button" class="btn btn-primary" th:onclick="eliminarUsuario()">Eliminar Usuario</button>
								</div>
							</div>
						</div>
					</div>
					

 </div>
 <script type="text/javascript">
	function confirmarEliminar(id) {
		$('#modalEliminar').modal('show');
		$("#identificadorUsuarioHiddenInput").val(id);
	}

	function eliminarUsuario() {
		var id = $("#identificadorUsuarioHiddenInput").val();
		window.location = "eliminarTurista/" + id;
	}
</script>
<script th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"	type="text/javascript" src="webjars/jquery/3.5.1/jquery.min.js"></script>
		<script th:src="@{/webjars/popper.js/1.16.0/popper.min.js}"	type="text/javascript" src="webjars/popper.js/1.16.0/popper.min.js"></script>
		<script th:src="@{/webjars/bootstrap/4.5.0/js/bootstrap.min.js}" type="text/javascript" src="webjars/bootstrap/4.5.0/js/bootstrap.min.js"></script>
		
</body>
</html>